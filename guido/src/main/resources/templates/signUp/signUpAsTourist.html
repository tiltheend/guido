<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tourist Sign Up</title>
    <!-- <link rel="stylesheet" th:href="@{/css/signUp/signUpAsTourist.css}"> -->
    <link rel="stylesheet" th:href="@{/css/signUp/signUpAsTourist.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/libraries/intl-tel-input/build/css/demo.css}"/>
    <link rel="stylesheet" th:href="@{/libraries/intl-tel-input/build/css/intlTelInput.css}"/>
</head>
<body>
    <th:block th:replace="~{common/header}"></th:block>
    <div class="container_total">
        <div class="container_top">
            <div class="container_top_title font0">회원 가입</div>
        </div>
        <form th:action="@{/signUp/tourist}" method="post">
        <div class="container_middle">
            <div class="container_middle_input">
                <!-- email -->
                <input type="email" name="userEmail" id="email" class="email font4" placeholder="이메일" maxlength="30" autocomplete="off"><button type="button" id="sendAuthBtn">인증번호 전송</button>
                <div class="signUp-message font4" id="emailMessage"></div>
                <!-- 인증번호 -->
                <div class="group">
                    <input type="text" id="inputAuth" class="input" required>
                    <span class="highlight"></span>
                    <span class="bar"></span>
                    <label>인증번호</label>
                </div>

                <input type="password" name="password" id="password" class="password font4" placeholder="비밀번호">
                <div class="signUp-message font4" id="passwordMessage"></div>
                <input type="text" name="pwCheck" id="pwCheck" class="pwCheck font4" placeholder="비밀번호 확인">
                <div class="signUp-message  font4" id="pwCheckMessage"></div>
                <input type="text" name="gender" id="gender" class="gender font4" placeholder="성별">
                <div class="signUp-message  font4" id="genderMessage"></div>
                <input type="text" name="name" id="name" class="name font4" placeholder="이름">
                <div class="signUp-message  font4" id="nameMessage"></div>
                <input type="text" name="passport" id="passport" class="passport font4" placeholder="여권 번호">
                <div class="signUp-message font4" id="passportMessage"></div>
                <!-- 전화번호 -->
                <!-- <input type="text" name="contact" id="contact" class="contact font4" placeholder="전화번호"> -->
                <input id="phone" name="phone" type="tel" /><button type="button" id="submitBtn">Submit</button>
                <div class="signUp-message font4" id="contactMessage"></div>
                <!-- 비상 연락처 -->
                <input type=" text" name="emergencyCo" id="emergencyCo" class="emergencyCo font4" placeholder="비상 연락처">
                <!-- <div class="phone2-area">
                    <input id="phone2" name="phone2" type="tel" /><button type="button" id="submitBtn2">Submit</button> -->
                    <div class="signUp-message font4" id="emergencyCoMessage"></div>
                </div>
            </div>
            <div class="container_middle_check">
                <div class="chk0"><input type="checkbox" name="infoAgree1" id="infoAgree1"><label for="infoAgree1" class="box"></label><span class="font5 ment1">&nbsp&nbsp이용약관 동의</span><span class="required font5">&nbsp[필수]</span></div>
                <div class="chk1"><input type="checkbox" name="infoAgree2" id="infoAgree2"><label for="infoAgree2" class="box"></label><span class="font5 ment1">&nbsp&nbsp개인정보 수집 및 이용 동의</span><span class="font5 required">&nbsp[필수]</span></div>
                <div class="chk2">
                <input type="checkbox" name="adverAgree" id="adverAgree"><label for="adverAgree" class="box"></label><span class="font5 ment2">&nbsp&nbsp마케팅 이메일 수신 동의 [선택]</span></div>
            </div>
            <div class="container_bottom">
                <button class="font3 container_bottom_button">동의 및 계속하기</button>
            </div>
        </form>
    </div>
</div>
<th:block th:replace="~{common/footer}"></th:block>
    <script th:src="@{/js/signUp/signUpAsTourist.js}"></script>
    <script th:src="@{/libraries/intl-tel-input/build/js/intlTelInput.js}"></script>
    <script inline="javascript">
        var submitBtn = document.querySelector("#submitBtn");
        var input = document.querySelector("#phone");

        window.intlTelInput(input, {
            // allowDropdown: true,
            // autoInsertDialCode: true,
            // autoPlaceholder: "on",
            // dropdownContainer: document.body,
            // excludeCountries: ["us"],
            // formatOnDisplay: false,
            // geoIpLookup: function(callback) {
            //   fetch("https://ipapi.co/json")
            //     .then(function(res) { return res.json(); })
            //     .then(function(data) { callback(data.country_code); })
            //     .catch(function() { callback("us"); });
            // },
            // hiddenInput: "full_number",
            // initialCountry: "auto",
            // localizedCountries: { 'de': 'Deutschland' },
            // nationalMode: false,
            // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
            // placeholderNumberType: "MOBILE",
            // preferredCountries: ['cn', 'jp'],
            separateDialCode: true,
            // showFlags: false,
            utilsScript: "build/js/utils.js"
        });
        
        var title = document.querySelector(".iti__selected-flag");
        var code = document.querySelector(".iti__selected-dial-code");

        submitBtn.addEventListener("click", ()=>{
        console.log("전화번호 : " + input.value);
        console.log("국가 : " + title.title);
        console.log("국제전화 나라번호 : " + code.innerText);
    })
    </script>
</body>
</html>