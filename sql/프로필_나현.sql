-- ****** 투어리스트 / 가이드 프로필 이동 ******

-- 가이드인지 판매자인지 체크 ( userType: 1 == G / 0 == T)
-- 23 / 24 가이드 G
-- 25 / 26 여행객 T
SELECT COUNT(*) 
FROM "USER"
WHERE USER_NO = 25
AND USER_TYPE = 'G'
;

-- 회원 정보 가져오기 (이메일, 이름, 프로필 이미지)
SELECT USER_EMAIL, USER_NAME, PROFILE_IMG
FROM "USER"
WHERE USER_NO = 25
;

-- 프로필 변경
UPDATE "USER"
SET PROFILE_IMG='/images/userProfile/sample25.jpg';
WHERE USER_NO=25
;

-- 구매 내역 조회
SELECT FILE_NO, PRODUCT_NO, FILE_ORDER, FILE_PATH
FROM "FILE";

SELECT RESERVATION_NO, PRODUCT_NO, USER_NO, CREATE_DT, RESERVATION_STATE, PAYMENT_METHOD, GUEST_COUNT, PRODUCT_DT_NO
FROM RESERVATION;

SELECT PRODUCT_NO, FILE_PATH
FROM "FILE"
JOIN RESERVATION USING (PRODUCT_NO)
WHERE USER_NO = 25
AND FILE_ORDER = 1
;



